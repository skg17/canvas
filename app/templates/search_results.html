{% if error %}
<p class="text-red-500 text-center p-4">{{ error }}</p>
{% elif results %}
<div class="flex flex-col gap-4">
    {% for result in results %}
    <div class="flex flex-col md:flex-row gap-4 p-4 border border-border rounded-lg bg-bg-secondary hover:border-accent/50 transition-all">
        <div class="result-poster w-full md:w-24 md:min-w-24 max-w-[150px] mx-auto md:mx-0 overflow-hidden rounded-lg bg-bg-tertiary">
            {% if result.poster_path %}
            <img src="{{ result.poster_path }}" alt="{{ result.title }}" onerror="this.src='/static/placeholder.svg'" class="w-full h-full object-cover">
            {% else %}
            <img src="/static/placeholder.svg" alt="{{ result.title }}" class="w-full h-full object-cover">
            {% endif %}
        </div>
        <div class="flex-1">
            <h3 class="text-lg mb-2 text-text-primary font-semibold">{{ result.title }} {% if result.year %}({{ result.year }}){% endif %}</h3>
            <p class="inline-block px-2 py-1 bg-accent-soft text-accent rounded text-xs mb-2 border border-accent/50 font-medium">
                {{ result.media_type|upper }}
            </p>
            {% if result.overview %}
            <p class="text-text-secondary text-sm mb-3 leading-relaxed">
                {{ result.overview[:150] }}{% if result.overview|length > 150 %}...{% endif %}
            </p>
            {% endif %}
            <form method="post" action="/add" class="mt-2">
                <input type="hidden" name="tmdb_id" value="{{ result.tmdb_id }}">
                <input type="hidden" name="title" value="{{ result.title }}">
                <input type="hidden" name="media_type" value="{{ result.media_type }}">
                <input type="hidden" name="poster_path" value="{{ result.poster_path or '' }}">
                <input type="hidden" name="overview" value="{{ result.overview or '' }}">
                <input type="hidden" name="release_date" value="{{ result.release_date or '' }}">
                <button type="submit" class="px-4 py-2 bg-accent text-text-primary border-none rounded-lg text-sm font-medium hover:bg-accent-hover transition-colors">
                    Add to Watchlist
                </button>
            </form>
        </div>
    </div>
    {% endfor %}
</div>
{% else %}
<p class="text-center py-8 text-text-secondary">No results found for "{{ query }}". Try a different search term.</p>
{% endif %}
